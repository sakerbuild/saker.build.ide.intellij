trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

steps:
- script: sh gradlew --no-daemon jar
  displayName: 'Gradle jar'
- script: sh gradlew --no-daemon sourcesJar
  displayName: 'Gradle sources jar'
- script: sh gradlew --no-daemon verifyPlugin
  displayName: 'Gradle verifyPlugin'
- script: sh gradlew --no-daemon buildPlugin
  displayName: 'Gradle buildPlugin'
- task: PublishBuildArtifacts@1
  displayName: 'Publish artifacts'
  inputs:
    pathtoPublish: build/libs/
    artifactName: lib
