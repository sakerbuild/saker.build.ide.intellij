<idea-plugin>
    <id>saker.build.ide.intellij</id>
    <name>Saker.build system plug-in for IntelliJ</name>
    <vendor email="support@saker.build"
            url="https://saker.build">saker.build
    </vendor>

    <description><![CDATA[
    Enter short description for your plugin here.<br>
    <em>most HTML tags may be used</em>
    ]]></description>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>

    <applicationListeners>
        <listener class="saker.build.ide.intellij.SakerBuildAppLifecycleListener"
                  topic="com.intellij.ide.AppLifecycleListener"/>
    </applicationListeners>

    <extensions defaultExtensionNs="com.intellij">
        <!--
        <moduleType id="SAKER_BUILD_MODULE_TYPE" implementationClass="saker.build.ide.intellij.impl.SakerBuildModuleType"/>
        -->
        <toolWindow id="saker.build"
                    anchor="bottom"
                    factoryClass="saker.build.ide.intellij.console.SakerBuildConsoleToolWindowFactory"/>
        <projectConfigurable id="SAKER_BUILD_PROJECT_SETTINGS"
                             displayName="Saker.build Project Settings"
                             provider="saker.build.ide.intellij.properties.SakerBuildProjectConfigurableProvider"
                             groupId="build"
                             dynamic="true"
                             groupWeight="1000">
            <!--
            The saker.build project settings has a large groupWeight in order to make it appear above other settings.
            This is advantageous as if someone uses saker.build for a project, we consider it to be the main
            (and maybe only) build tool that is used for a given project. It is the core and significant component
            of the build behaviour for a given project. Therefore we aim to present it at the head of the Build tool
            settings tree.
            -->
        </projectConfigurable>
    </extensions>

    <actions>
        <action class="saker.build.ide.intellij.ConfigureSakerBuildProjectAction"
                text="Add saker.build support">
            <add-to-group group-id="FileMainSettingsGroup"
                          relative-to-action="ShowProjectStructureSettings"
                          anchor="after"/>
        </action>
        <action id="SAKER_BUILD_REMOVE_NATURE"
                class="saker.build.ide.intellij.UnconfigureSakerBuildProjectAction"
                text="Remove saker.build support">
            <add-to-group group-id="FileMainSettingsGroup"
                          relative-to-action="ShowProjectStructureSettings"
                          anchor="after"/>
        </action>
        <action id="SAKER_BUILD_RUN_BUILD"
                class="saker.build.ide.intellij.RunBuildAction"
                text="Run saker.build"
                description="Execute project build with saker.build">
            <keyboard-shortcut first-keystroke="control alt shift F9"
                               keymap="$default"/>
            <add-to-group group-id="BuildMenu"/>
        </action>
    </actions>
    <idea-version since-build="193"/>
</idea-plugin>